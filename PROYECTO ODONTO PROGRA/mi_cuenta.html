{% extends "base.html" %}

{% block title %}Mi Cuenta - NeoSmile{% endblock %}

{% block content %}
<div class="page-section">
    <div class="section-header centered-text">
        <h1>Mi Cuenta</h1>
        <p>Hola, <strong>{{ current_user.nombre_completo }}</strong>. Aquí puedes ver y gestionar tus citas.</p>
    </div>

    <div class="card">
        <h3>Mis Próximas Citas</h3>
        {% if citas %}
            <table class="citas-table">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Hora</th>
                        <th>Especialidad</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody>
                    {% for cita in citas %}
                    <tr>
                        <td>{{ cita.fecha_cita.strftime('%d-%m-%Y') }}</td>
                        <td>{{ cita.hora_cita.strftime('%H:%M') }}</td>
                        <td>{{ cita.especialidad_info.nombre_especialidad }}</td>
                        <td><span class="status-badge status-{{ cita.estado_cita | lower }}">{{ cita.estado_cita }}</span></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>Aún no tienes ninguna cita agendada. <a href="{{ url_for('ruta_agendar_cita') }}">¡Agenda una ahora!</a></p>
        {% endif %}
    </div>
</div>
{% endblock %}